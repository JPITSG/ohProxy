/* Frosted Glass Theme for ohProxy */
/* Based on: https://github.com/wessamlauf/homeassistant-frosted-glass-themes */

/* Rubik font */
@font-face {
	font-family: 'Rubik';
	font-style: normal;
	font-weight: 300;
	font-display: swap;
	src: url('/fonts/rubik-300.woff2') format('woff2');
}
@font-face {
	font-family: 'Rubik';
	font-style: normal;
	font-weight: 400;
	font-display: swap;
	src: url('/fonts/rubik-400.woff2') format('woff2');
}
@font-face {
	font-family: 'Rubik';
	font-style: normal;
	font-weight: 500;
	font-display: swap;
	src: url('/fonts/rubik-500.woff2') format('woff2');
}

:root {
	/* Primary color - Frosted Glass indigo */
	--color-primary: rgb(106, 116, 211);
	--color-primary-light: rgb(167, 182, 199);
	--color-primary-rgb: 106, 116, 211;

	/* Text colors */
	--color-text-primary: rgba(234, 235, 238, 0.98);
	--color-text-secondary: rgba(234, 235, 238, 0.8);
	--color-text-disabled: rgba(234, 235, 238, 0.45);
	--color-text-base: rgba(234, 235, 238, 0.98);
	--color-text-muted: rgba(234, 235, 238, 0.8);
	--color-text-muted-strong: rgba(234, 235, 238, 0.6);

	/* Background colors */
	--color-bg-base: rgb(30, 30, 30);
	--color-bg-secondary: rgba(30, 33, 54, 0.7);
	--color-bg-card: rgba(28, 29, 33, 0.85);
	--color-body-bg: rgb(30, 30, 30);
	--color-body-text: rgba(234, 235, 238, 0.98);

	/* Glass effect */
	--glass-tint: transparent;
	--glass-blur: blur(10px) saturate(1.2);
	--glass-border-width: 0.5px;
	--glass-border-color: rgba(234, 235, 238, 0.30);
	--glass-border-radius: 18px;
	--glass-box-shadow: 0 12px 20px rgba(0, 0, 0, 0.28);
	--glass-inset-shadow:
		3px 3px 0.5px -3.5px rgba(255, 255, 255, 0.15) inset,
		-2px -2px 0.5px -2px rgba(255, 255, 255, 0.1) inset,
		0 0 8px 1px rgba(255, 255, 255, 0.06) inset,
		0 0 2px 0 rgba(0, 0, 0, 0.18);

	/* Surface colors */
	--color-surface-glass: var(--glass-tint);
	--color-border-soft: var(--glass-border-color);
	--color-border-strong: rgba(234, 235, 238, 0.22);
	--color-surface-muted: rgba(255, 255, 255, 0.05);
	--color-surface-muted-2: rgba(255, 255, 255, 0.03);
	--color-surface-hover: rgba(255, 255, 255, 0.08);

	/* Grid dots */
	--color-grid-dot: rgba(255, 255, 255, 0.04);

	/* Select/dropdown colors */
	--color-select-base-bg: rgba(30, 33, 54, 0.7);
	--color-select-base-text: rgba(234, 235, 238, 0.98);
	--color-select-base-border: rgba(234, 235, 238, 0.22);
	--color-select-option-bg: rgb(30, 30, 30);
	--color-select-option-text: rgba(234, 235, 238, 0.98);
	--color-select-option-disabled: rgba(234, 235, 238, 0.45);
	--color-select-card-bg: rgba(255, 255, 255, 0.05);
	--color-select-card-text: rgba(234, 235, 238, 0.98);
	--color-select-card-border: rgba(234, 235, 238, 0.1);
	--color-select-fake-bg: rgba(255, 255, 255, 0.05);
	--color-select-fake-text: rgba(234, 235, 238, 0.98);
	--color-select-fake-border: rgba(234, 235, 238, 0.1);
	--color-select-menu-bg: rgb(2, 6, 23);
	--color-select-menu-border: rgba(234, 235, 238, 0.22);
	--color-select-menu-shadow: rgba(0, 0, 0, 0.35);
	--color-select-option-bg-card: rgb(33, 35, 61);
	--color-select-option-border-card: var(--glass-border-color);
	--color-select-option-text-card: rgba(234, 235, 238, 0.98);
	--color-select-option-shadow-card: rgba(33, 35, 61, 0.6);
	--color-select-option-hover-bg: rgba(118, 214, 152, 0.15);
	--color-select-option-hover-border: rgba(118, 214, 152, 0.5);
	--color-select-option-hover-shadow: rgba(118, 214, 152, 0.4);
	--color-select-option-active-bg: rgba(78, 183, 128, 0.15);
	--color-select-option-active-border: rgba(78, 183, 128, 0.45);
	--color-select-option-active-text: rgba(234, 235, 238, 0.98);
	--color-select-option-active-shadow: rgba(78, 183, 128, 0.35);

	/* Accent colors */
	--color-accent: rgba(106, 116, 211, 0.5);
	--color-accent-glow: rgba(106, 116, 211, 0.35);
	--color-accent-soft: rgba(106, 116, 211, 0.25);
	--color-accent-strong: rgba(106, 116, 211, 0.6);
	--color-mode-active-text: rgba(234, 235, 238, 0.98);

	/* Control colors - using primary indigo */
	--color-control-bg: rgba(106, 116, 211, 0.18);
	--color-control-border: rgba(106, 116, 211, 0.45);
	--color-control-hover: rgba(106, 116, 211, 0.25);
	--color-control-off-bg: rgb(33, 35, 61);
	--color-control-off-border: var(--glass-border-color);
	--color-control-off-hover: rgba(118, 214, 152, 0.15);
	--color-control-off-border-hover: rgba(118, 214, 152, 0.5);
	--color-control-off-text: rgba(234, 235, 238, 0.98);
	--color-control-off-shadow: rgba(33, 35, 61, 0.6);
	--color-control-off-shadow-hover: rgba(118, 214, 152, 0.4);

	/* Status colors */
	--color-status-bg: rgba(30, 30, 30, 0.75);
	--color-status-border: rgba(234, 235, 238, 0.22);
	--color-status-ok: rgb(118, 214, 152);
	--color-status-error: rgb(234, 114, 135);
	--color-status-pending: rgb(255, 219, 117);
	--color-switch-active-bg: rgba(118, 214, 152, 0.15);
	--color-switch-active-border: rgba(118, 214, 152, 0.5);
	--color-switch-active-shadow: rgba(118, 214, 152, 0.4);
	--color-switch-active-bg-hover: rgba(118, 214, 152, 0.25);
	--color-switch-active-shadow-hover: rgba(118, 214, 152, 0.5);

	/* Theme overlay */
	--color-theme-overlay-radial: rgba(106, 116, 211, 0.12);

	/* Slim mode */
	--color-slim-header-bg: rgb(30, 30, 30);
	--color-slim-glass-bg: rgb(30, 30, 30);
	--color-slim-glass-border: rgba(234, 235, 238, 0.12);
	--color-slim-glass-hover: rgba(255, 255, 255, 0.06);

	/* Divider */
	--color-divider: rgba(84, 84, 98, 0.28);

	/* Header */
	--header-bg: rgb(19, 20, 33);
	--header-blur: blur(8px) saturate(1.1);
	--header-border: var(--glass-border-color);
}


body.theme-light {
	/* Text colors */
	--color-text-primary: rgba(19, 21, 54, 0.98);
	--color-text-secondary: rgba(19, 21, 54, 0.8);
	--color-text-disabled: rgba(19, 21, 54, 0.45);
	--color-text-base: rgba(19, 21, 54, 0.98);
	--color-text-muted: rgba(19, 21, 54, 0.8);
	--color-text-muted-strong: rgba(19, 21, 54, 0.6);

	/* Background colors */
	--color-bg-base: rgb(245, 246, 250);
	--color-bg-secondary: rgba(245, 245, 245, 0.5);
	--color-bg-card: rgba(255, 255, 255, 0.85);
	--color-body-bg: rgb(245, 246, 250);
	--color-body-text: rgba(19, 21, 54, 0.98);

	/* Glass effect - lighter for light mode */
	--glass-tint: rgba(255, 255, 255, 0.08);
	--glass-blur: blur(8px) saturate(1.2);
	--glass-border-color: rgba(255, 255, 255, 0.3);
	--glass-box-shadow: 0 12px 20px rgba(0, 0, 0, 0.15);
	--glass-inset-shadow:
		3px 3px 0.5px -3.5px rgba(255, 255, 255, 0.30) inset,
		-2px -2px 0.5px -2px rgba(255, 255, 255, 0.30) inset,
		0 0 8px 1px rgba(255, 255, 255, 0.10) inset,
		0 0 2px 0 rgba(0, 0, 0, 0.10);

	/* Surface colors */
	--color-surface-glass: var(--glass-tint);
	--color-border-soft: var(--glass-border-color);
	--color-border-strong: rgba(255, 255, 255, 0.3);
	--color-surface-muted: rgba(19, 21, 54, 0.04);
	--color-surface-muted-2: rgba(19, 21, 54, 0.04);
	--color-surface-hover: rgba(19, 21, 54, 0.08);

	/* Grid dots */
	--color-grid-dot: rgba(19, 21, 54, 0.06);

	/* Select/dropdown colors */
	--color-select-base-bg: rgba(255, 255, 255, 0.9);
	--color-select-base-text: rgba(19, 21, 54, 0.98);
	--color-select-base-border: rgba(255, 255, 255, 0.3);
	--color-select-option-bg: #ffffff;
	--color-select-option-text: rgba(19, 21, 54, 0.98);
	--color-select-option-disabled: rgba(19, 21, 54, 0.45);
	--color-select-card-bg: rgba(19, 21, 54, 0.04);
	--color-select-card-text: rgba(19, 21, 54, 0.98);
	--color-select-card-border: rgba(255, 255, 255, 0.3);
	--color-select-fake-bg: rgba(19, 21, 54, 0.04);
	--color-select-fake-text: rgba(19, 21, 54, 0.98);
	--color-select-fake-border: rgba(255, 255, 255, 0.3);
	--color-select-menu-bg: rgb(245, 246, 250);
	--color-select-menu-border: rgba(255, 255, 255, 0.3);
	--color-select-menu-shadow: rgba(0, 0, 0, 0.15);
	--color-select-option-bg-card: rgba(19, 21, 54, 0.08);
	--color-select-option-border-card: rgba(19, 21, 54, 0.2);
	--color-select-option-text-card: rgba(19, 21, 54, 0.98);
	--color-select-option-shadow-card: rgba(19, 21, 54, 0.12);
	--color-select-option-hover-bg: rgba(78, 183, 128, 0.12);
	--color-select-option-hover-border: rgba(78, 183, 128, 0.45);
	--color-select-option-hover-shadow: rgba(78, 183, 128, 0.35);
	--color-select-option-active-bg: rgba(78, 183, 128, 0.12);
	--color-select-option-active-border: rgba(78, 183, 128, 0.45);
	--color-select-option-active-text: rgba(19, 21, 54, 0.98);
	--color-select-option-active-shadow: rgba(78, 183, 128, 0.35);

	/* Control colors */
	--color-control-off-bg: rgba(19, 21, 54, 0.08);
	--color-control-off-border: rgba(19, 21, 54, 0.2);
	--color-control-off-hover: rgba(78, 183, 128, 0.12);
	--color-control-off-border-hover: rgba(78, 183, 128, 0.45);
	--color-control-off-text: rgba(19, 21, 54, 0.98);
	--color-control-off-shadow: rgba(19, 21, 54, 0.12);
	--color-control-off-shadow-hover: rgba(78, 183, 128, 0.35);
	--color-mode-active-text: rgba(19, 21, 54, 0.98);

	/* Status colors */
	--color-status-bg: rgba(255, 255, 255, 0.9);
	--color-status-border: rgba(255, 255, 255, 0.3);
	--color-status-ok: rgb(78, 183, 128);
	--color-status-error: rgb(234, 114, 135);
	--color-status-pending: rgb(255, 193, 7);
	--color-switch-active-bg: rgba(78, 183, 128, 0.12);
	--color-switch-active-border: rgba(78, 183, 128, 0.45);
	--color-switch-active-shadow: rgba(78, 183, 128, 0.35);
	--color-switch-active-bg-hover: rgba(78, 183, 128, 0.2);
	--color-switch-active-shadow-hover: rgba(78, 183, 128, 0.45);

	/* Theme overlay */
	--color-theme-overlay-radial: rgba(106, 116, 211, 0.08);
	--color-theme-overlay-start: rgb(245, 246, 250);
	--color-theme-overlay-end: rgb(245, 246, 250);

	/* Slim mode */
	--color-slim-header-bg: rgb(245, 246, 250);
	--color-slim-glass-bg: rgba(255, 255, 255, 0.9);
	--color-slim-glass-border: rgba(255, 255, 255, 0.3);
	--color-slim-glass-hover: rgba(19, 21, 54, 0.04);

	/* Divider */
	--color-divider: rgba(224, 224, 224, 0.3);

	/* Header */
	--header-bg: rgba(19, 21, 54, 0.08);
	--header-border: rgba(150, 150, 150, 0.3);

	background-color: var(--color-body-bg);
	color: var(--color-body-text);
}

html,
body {
	scrollbar-gutter: stable;
	background-color: var(--color-body-bg);
	font-family: 'Rubik', -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
	font-weight: 300;
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
	-webkit-user-select: none;
	user-select: none;
	cursor: default;
}

#search {
	-webkit-user-select: text;
	user-select: text;
	cursor: text;
}

/* Subtle animated background */
.bg-grid {
	background-image:
		radial-gradient(circle at 1px 1px, var(--color-grid-dot) 1px, transparent 0);
	background-size: 28px 28px;
}

/* Header with frosted glass effect */
header {
	background: var(--header-bg) !important;
	backdrop-filter: var(--header-blur) !important;
	-webkit-backdrop-filter: var(--header-blur) !important;
	border-color: var(--header-border) !important;
}

#headerBottom.gap-3 {
	gap: .5rem !important;
}

/* Glass card styling - the signature frosted glass look */
.glass {
	background: var(--glass-tint);
	backdrop-filter: var(--glass-blur);
	-webkit-backdrop-filter: var(--glass-blur);
	border: var(--glass-border-width) solid var(--glass-border-color);
	border-radius: var(--glass-border-radius);
	box-shadow: var(--glass-box-shadow), var(--glass-inset-shadow);
}

/* Button hover effect when hovering anywhere on click-anywhere cards */
@media (hover: hover) and (pointer: fine) {
	.switch-card.switch-single:hover .switch-btn {
		background-color: var(--color-switch-active-bg) !important;
		border-color: var(--color-switch-active-border) !important;
		box-shadow: 0 0 10px var(--color-switch-active-shadow);
	}
	.selection-card:hover .inline-controls .fake-select {
		background-color: var(--color-switch-active-bg) !important;
		border-color: var(--color-switch-active-border) !important;
		box-shadow: 0 0 10px var(--color-switch-active-shadow);
	}
}

.labelRow {
	min-height: 3rem;
}
.title {
	display: -webkit-box;
	-webkit-box-orient: vertical;
	-webkit-line-clamp: 2;
	overflow: hidden;
	white-space: normal;
	text-wrap: balance;
}
.title-hidden .title {
	display: none;
}
html:not(.slim) .has-meta .labelStack {
	transform: translateY(-2px);
}
.iconWrap img {
	opacity: 0;
}
.iconWrap img.icon-ready {
	opacity: .9;
}

/* Glow effect for special cards */
.glow-card .labelStack {
	display: grid;
	grid-template-columns: auto 1fr;
	align-items: center;
	gap: 0 .4rem;
}
.glow-card .labelStack .title {
	grid-column: 1 / -1;
}
.glow-dot {
	width: .45rem;
	height: .45rem;
	border-radius: 999px;
	background: var(--glow-solid);
	box-shadow: 0 0 6px var(--glow-color), 0 0 10px var(--glow-color);
	pointer-events: none;
	flex-shrink: 0;
}
@media (hover: hover) and (pointer: fine) {
	.glow-dot {
		margin-top: 1px;
	}
}

/* Selection card styles */
.selection-card .labelRow {
	justify-content: flex-start;
}
.selection-card .labelRow > * + * {
	margin-left: .5rem;
}
.selection-card {
	position: relative;
}
.selection-card .labelStack {
	flex: 0 1 40%;
	min-width: 0;
}
.selection-card .inline-controls {
	flex: 0 1 60%;
	min-width: 0;
	display: flex;
	justify-content: flex-end;
}
.selection-card .select-wrap {
	position: relative;
	display: flex;
	align-items: center;
	justify-content: flex-end;
	flex: 1 1 0;
}
.selection-card .select-wrap > .fake-select {
	width: 100%;
	cursor: pointer;
}
.selection-card .inline-controls .fake-select {
	background-color: var(--color-control-off-bg);
	color: var(--color-control-off-text);
	border: var(--glass-border-width) solid var(--color-control-off-border);
	font-size: .75rem;
	line-height: 1;
	padding: 11px 12px;
	border-radius: 10px;
	display: inline-flex;
	align-items: center;
	justify-content: center;
	text-align: center;
	position: relative;
	z-index: 1;
	-webkit-appearance: none;
	appearance: none;
	box-shadow: 0 0 8px var(--color-control-off-shadow);
	transition: background-color .4s ease, border-color .4s ease, box-shadow .4s ease;
}
@media (hover: hover) and (pointer: fine) {
	.selection-card .inline-controls .fake-select:hover {
		background-color: var(--color-control-off-hover);
		border-color: var(--color-control-off-border-hover);
		box-shadow: 0 0 10px var(--color-control-off-shadow-hover);
	}
}
.selection-card .select-overlay {
	position: absolute;
	top: 0;
	right: 0;
	bottom: 0;
	left: 0;
	opacity: 0.01;
	width: 100%;
	height: 100%;
	cursor: pointer;
	border: none !important;
	box-shadow: none !important;
	background: transparent !important;
	z-index: 2;
}
.selection-card .select-overlay:focus {
	outline: none;
	box-shadow: none !important;
}
.oh-select {
	background-color: var(--color-control-off-bg) !important;
	color: var(--color-control-off-text) !important;
	border: 1px solid var(--color-control-off-border) !important;
	box-shadow: 0 0 8px var(--color-control-off-shadow) !important;
	outline: none !important;
	appearance: none;
	-webkit-appearance: none;
	text-align: center;
	text-align-last: center;
	transition: background-color .4s ease, border-color .4s ease, box-shadow .4s ease;
}
.oh-select:focus {
	border-color: var(--color-primary) !important;
	box-shadow: 0 0 0 2px var(--color-accent-glow) !important;
}
.oh-select option {
	background-color: var(--color-select-option-bg);
	color: var(--color-select-option-text);
	text-align: left;
}
.oh-select option:disabled {
	color: var(--color-select-option-disabled);
}
.selection-card.menu-open {
	z-index: 20;
}

.selection-card .select-menu {
	position: absolute;
	right: 0;
	top: calc(100% + 6px);
	min-width: 100%;
	background: var(--color-select-menu-bg);
	backdrop-filter: var(--glass-blur);
	-webkit-backdrop-filter: var(--glass-blur);
	border: var(--glass-border-width) solid var(--color-select-menu-border);
	border-radius: 14px;
	padding: .25rem;
	box-shadow: var(--glass-box-shadow), var(--glass-inset-shadow);
	display: none;
}
.selection-card.menu-open .select-menu {
	display: block;
}
.selection-card.menu-above .select-menu {
	top: auto;
	bottom: calc(100% + 6px);
	box-shadow: 0 -12px 20px rgba(0, 0, 0, 0.28), var(--glass-inset-shadow);
}
body.theme-light .selection-card.menu-above .select-menu {
	box-shadow: 0 -12px 20px rgba(0, 0, 0, 0.15), var(--glass-inset-shadow);
}
.selection-card .select-option {
	display: block;
	width: 100%;
	background: var(--color-select-option-bg-card);
	border: 1px solid var(--color-select-option-border-card);
	color: var(--color-select-option-text-card);
	font-size: .75rem;
	padding: .45rem .75rem;
	border-radius: 10px;
	text-align: center;
	cursor: pointer;
	white-space: nowrap;
	box-shadow: 0 0 8px var(--color-select-option-shadow-card);
	transition: background-color .15s ease, border-color .15s ease, box-shadow .15s ease;
}
.selection-card .select-option + .select-option {
	margin-top: .25rem;
}
@media (hover: hover) and (pointer: fine) {
	.selection-card .select-option:hover {
		background: var(--color-select-option-hover-bg);
		border-color: var(--color-select-option-hover-border);
		box-shadow: 0 0 10px var(--color-select-option-hover-shadow);
	}
}
.selection-card .select-option.active {
	background: var(--color-select-option-active-bg);
	border-color: var(--color-select-option-active-border);
	color: var(--color-select-option-active-text);
	box-shadow: 0 0 10px var(--color-select-option-active-shadow);
}
.selection-card .select-menu.scrollable {
	overflow: hidden;
	right: auto;
	left: 0;
}
.selection-card .select-menu-scroll {
	padding-right: 4px;
	overflow-y: auto;
	overflow-x: hidden;
	scrollbar-width: thin;
	scrollbar-color: rgba(255, 255, 255, 0.25) transparent;
}
.selection-card .select-menu-scroll::-webkit-scrollbar {
	width: 4px;
}
.selection-card .select-menu-scroll::-webkit-scrollbar-track {
	background: transparent;
}
.selection-card .select-menu-scroll::-webkit-scrollbar-thumb {
	background: rgba(255, 255, 255, 0.25);
	border-radius: 2px;
}
.selection-card .select-menu-scroll::-webkit-scrollbar-thumb:hover {
	background: rgba(255, 255, 255, 0.4);
}
body.theme-light .selection-card .select-menu-scroll {
	scrollbar-color: #888 transparent;
}
body.theme-light .selection-card .select-menu-scroll::-webkit-scrollbar-thumb {
	background: #888;
}
body.theme-light .selection-card .select-menu-scroll::-webkit-scrollbar-thumb:hover {
	background: #666;
}

/* Image and chart card styles */
.image-card,
.chart-card {
	padding: 0 !important;
	overflow: hidden;
}
.image-card.image-loading,
.chart-card.image-loading {
	visibility: hidden;
	height: 0;
	overflow: hidden;
	padding: 0 !important;
	margin: 0 !important;
	border: none !important;
}
.image-card .cardRow,
.chart-card .cardRow {
	display: block;
}
.image-card .controls,
.chart-card .controls {
	margin: 0;
}
.image-card img,
.chart-card img {
	width: 100% !important;
	height: auto !important;
	display: block;
	border: none !important;
	background: transparent !important;
	border-radius: inherit !important;
}
.image-viewer-trigger {
	cursor: zoom-in;
}
.image-viewer {
	position: fixed;
	inset: 0;
	z-index: 90;
	display: flex;
	align-items: center;
	justify-content: center;
	background: rgba(30, 30, 30, 0.85);
	backdrop-filter: blur(8px);
	-webkit-backdrop-filter: blur(8px);
}
body.theme-light .image-viewer {
	background: rgba(245, 246, 250, 0.9);
}
.image-viewer.hidden {
	display: none;
}
.image-viewer-frame {
	width: 90vw;
	height: 90vh;
	max-width: 90vw;
	max-height: 90vh;
	position: relative;
	border-radius: 0;
	padding: 0;
	overflow: hidden;
	display: flex;
	align-items: center;
	justify-content: center;
	transition: opacity .2s ease;
}
.image-viewer.loading .image-viewer-frame {
	opacity: 0;
}
.image-viewer-img {
	width: 100%;
	height: 100%;
	object-fit: contain;
	display: block;
	transform: scale(1);
	transform-origin: 50% 50%;
	transition: transform .2s ease, opacity .2s ease;
	cursor: zoom-in;
	touch-action: none;
	position: relative;
	z-index: 1;
	opacity: 1;
}
.image-viewer.loading .image-viewer-img {
	opacity: 0;
}
.image-viewer-img.zoomed {
	transform: scale(2);
	cursor: zoom-out;
}
.slim .image-viewer-img {
	cursor: default;
}
.image-viewer-actions {
	position: absolute;
	top: .75rem;
	right: .75rem;
	display: flex;
	gap: .5rem;
	z-index: 2;
}
.image-viewer-close {
	width: 2.5rem;
	height: 2.5rem;
	border: 0;
	background: transparent;
	display: inline-flex;
	align-items: center;
	justify-content: center;
	cursor: pointer;
	padding: 0;
}
.image-viewer-close img {
	width: 100%;
	height: 100%;
	display: block;
	object-fit: contain;
}
.image-viewer-close:hover {
	opacity: .9;
}
body.image-viewer-open {
	overflow: hidden;
}

/* Grid styling */
#grid {
	opacity: 1;
}
#grid.page-fade-out {
	opacity: 0;
	transition: opacity .25s ease;
}
#grid.page-fade-in {
	opacity: 1;
	transition: opacity .25s ease;
}
html.error-state #grid {
	pointer-events: none;
}
html:not(.slim).error-state #grid {
	opacity: .5;
}
html.resume-reset #grid {
	opacity: 0;
	visibility: hidden;
	pointer-events: none;
}
html:not(.slim) #grid {
	margin-top: -7px;
}

/* Header buttons */
#headerBottom button,
#headerBottom input,
#headerTop input,
#headerTop button {
	border-radius: 10px !important;
}
#headerBottom {
	flex-wrap: nowrap !important;
}
#searchWrap {
	flex: 1 1 0 !important;
	min-width: 0 !important;
}
#searchWrap input {
	min-width: 0;
	background: rgba(30, 33, 54, 0.7) !important;
	backdrop-filter: blur(6px) !important;
	-webkit-backdrop-filter: blur(6px) !important;
	border: 1px solid var(--glass-border-color) !important;
	box-shadow: inset 0 3px 10px rgba(0, 0, 0, 0.5), inset 0 1px 3px rgba(0, 0, 0, 0.4) !important;
}
#searchWrap input::placeholder {
	color: rgba(255, 255, 255, 0.35);
}
body.theme-light #searchWrap input {
	background: rgba(255, 255, 255, 0.7) !important;
	box-shadow: inset 0 3px 10px rgba(0, 0, 0, 0.2), inset 0 1px 3px rgba(0, 0, 0, 0.15) !important;
}
body.theme-light #searchWrap input::placeholder {
	color: rgba(150, 155, 170, 0.8);
}
#searchWrap input:focus {
	border-color: rgba(118, 214, 152, 0.5) !important;
	box-shadow: inset 0 3px 10px rgba(0, 0, 0, 0.5), inset 0 1px 3px rgba(0, 0, 0, 0.4), 0 0 10px rgba(118, 214, 152, 0.4) !important;
}
body.theme-light #searchWrap input:focus {
	border-color: rgba(78, 183, 128, 0.45) !important;
	box-shadow: inset 0 3px 10px rgba(0, 0, 0, 0.2), inset 0 1px 3px rgba(0, 0, 0, 0.15), 0 0 10px rgba(78, 183, 128, 0.35) !important;
}
#navWrap {
	flex: 0 0 auto;
}
#navWrap button {
	width: 5.5rem;
	display: inline-flex;
	align-items: center;
	justify-content: center;
	text-align: center;
	background: transparent !important;
	border-color: transparent !important;
	box-shadow: none !important;
	backdrop-filter: none !important;
	-webkit-backdrop-filter: none !important;
}
#backBtn,
#homeBtn {
	width: auto !important;
}
#backBtn svg {
	width: 1.5rem;
	height: 1.5rem;
	display: block;
	transform: rotate(90deg);
	transform-origin: 50% 50%;
}
#homeBtn svg {
	width: 1.5rem;
	height: 1.5rem;
	display: block;
}
body.theme-dark #backBtn svg {
	filter: invert(1);
}
body.theme-dark #homeBtn svg {
	filter: invert(1);
}
#backBtn:disabled {
	opacity: .4;
}
#homeBtn:disabled {
	opacity: .4;
}
#themeToggleBtn {
	width: auto !important;
	padding: .5rem .75rem;
	line-height: 0;
}
#themeToggleBtn svg {
	width: 1.5rem;
	height: 1.5rem;
	display: block;
}
body.theme-dark #themeToggleBtn svg {
	filter: invert(1);
}
#brandWrap {
	min-width: 0;
}
#pageTitle {
	white-space: nowrap;
	overflow: hidden;
	text-overflow: ellipsis;
}
#pauseBtn.pause-hidden {
	display: none !important;
}

/* Slim mode */
.slim * {
	animation: none !important;
	transition: none !important;
}
.slim .bg-grid {
	display: none !important;
}
.slim #headerBottom > * {
	margin-left: .5rem;
}
.slim #headerBottom > *:first-child {
	margin-left: 0;
}
.slim header {
	background-color: var(--color-body-bg) !important;
	backdrop-filter: none !important;
	-webkit-backdrop-filter: none !important;
}
.slim #searchWrap input {
	border: var(--glass-border-width) solid var(--color-slim-glass-border) !important;
}
.slim .glass {
	background: var(--color-slim-glass-bg) !important;
	border-color: var(--color-slim-glass-border) !important;
	backdrop-filter: none !important;
	-webkit-backdrop-filter: none !important;
	box-shadow: none !important;
}
.slim #grid .glass {
	border-radius: 14px !important;
}

/* Header modes */
.header-small #headerTop {
	padding-top: .5rem;
	padding-bottom: .5rem;
	gap: 0;
}
.header-small #headerTop > * {
	margin-left: .5rem;
}
.header-small #headerTop > *:first-child {
	margin-left: 0;
}
.header-small #headerBottom {
	display: none !important;
}
.header-small #brandWrap {
	flex: 0 0 auto;
}
.header-small #brandWrap .text-sm {
	white-space: nowrap;
}
.header-small #pageTitle {
	display: none !important;
}
.header-small #auxWrap {
	display: none !important;
}
.header-small #pauseBtn {
	display: none !important;
}
.header-small #searchWrap {
	flex: 1 1 auto;
	min-width: 0;
}
.header-small #navWrap {
	flex: 0 0 auto;
}
.header-none header {
	display: none !important;
}

#navWrap {
	gap: .35rem !important;
}
#navWrap > *:last-child {
	margin-right: 0 !important;
	padding-right: 0 !important;
}
.slim #navWrap > * {
	margin-left: 0 !important;
}

/* Switch card styles */
.switch-card .labelStack {
	flex: 0 1 40%;
	min-width: 0;
}
.switch-card .inline-controls {
	flex: 1 1 0;
	min-width: 0;
	align-items: center;
	gap: 0;
}
.switch-card .inline-controls > * + * {
	margin-left: .5rem;
}
.switch-card .inline-controls button {
	flex: 1 1 0;
	min-width: 0;
	text-align: center;
	display: inline-flex;
	align-items: center;
	justify-content: center;
	overflow: hidden;
	text-overflow: ellipsis;
}
.switch-card .inline-controls .switch-btn {
	padding: 11px 12px;
	border-radius: 10px;
	border-width: var(--glass-border-width);
	font-size: .75rem;
	line-height: 1;
	white-space: nowrap;
	transition: background-color .4s ease, border-color .4s ease, color .4s ease, box-shadow .4s ease;
	background-color: var(--color-control-off-bg) !important;
	border-color: var(--color-control-off-border) !important;
	color: var(--color-control-off-text) !important;
	box-shadow: 0 0 8px var(--color-control-off-shadow);
}
@media (hover: hover) and (pointer: fine) {
	.switch-card .inline-controls .switch-btn:hover {
		background-color: var(--color-control-off-hover) !important;
		border-color: var(--color-control-off-border-hover) !important;
		box-shadow: 0 0 10px var(--color-control-off-shadow-hover);
	}
}
.switch-card .inline-controls .switch-btn.is-active {
	background-color: var(--color-switch-active-bg) !important;
	border-color: var(--color-switch-active-border) !important;
	box-shadow: 0 0 8px var(--color-switch-active-shadow);
	color: var(--color-text-base) !important;
	font-weight: 500;
}
@media (hover: hover) and (pointer: fine) {
	.switch-card .inline-controls .switch-btn.is-active:hover {
		background-color: var(--color-switch-active-bg-hover) !important;
		box-shadow: 0 0 10px var(--color-switch-active-shadow-hover);
	}
}
.switch-card.switch-many .labelStack {
	flex: 1 1 15%;
	min-width: 0;
}
.switch-card.switch-many .inline-controls {
	flex: 0 1 85%;
	max-width: 85%;
}

/* Slider card styles */
.slider-card .labelRow {
	justify-content: flex-start;
}
.slider-card .labelRow > * + * {
	margin-left: .5rem;
}
.slider-card .labelStack {
	flex: 1 1 0;
	min-width: 0;
}
.slider-card .inline-slider {
	flex: 0 0 50%;
	max-width: 50%;
	min-width: 0;
}

/* Slider styling - using primary color */
input[type="range"] {
	accent-color: var(--color-primary);
}

/* Mode button styles */
.mode-btn.active {
	background: var(--color-accent-soft);
	border-color: var(--color-accent-strong);
	color: var(--color-mode-active-text);
}
.mode-btn,
#auxWrap a {
	height: 2.25rem;
	display: inline-flex;
	align-items: center;
}

/* Status bar */
.status-bar {
	display: inline-flex;
	align-items: center;
	padding: 0;
	border-radius: 0;
	background: transparent;
	border: 0;
	font-size: .7rem;
	letter-spacing: .02em;
	color: var(--color-body-text);
	z-index: 60;
	pointer-events: none;
	flex-shrink: 0;
	white-space: nowrap;
	margin-left: auto;
}
.status-dot {
	width: .55rem;
	height: .55rem;
	border-radius: 999px;
	background: var(--color-status-pending);
	box-shadow: 0 0 8px var(--color-status-pending);
	margin-right: .45rem;
}
@media (hover: hover) and (pointer: fine) {
	.status-dot {
		margin-top: -2px;
	}
}
.status-bar.status-pending .status-dot {
	background: var(--color-status-pending);
	box-shadow: 0 0 8px var(--color-status-pending);
}
.status-bar.status-ok .status-dot {
	background: var(--color-status-ok);
	box-shadow: 0 0 8px var(--color-status-ok);
}
.status-bar.status-error .status-dot {
	background: var(--color-status-error);
	box-shadow: 0 0 8px var(--color-status-error);
}
.header-small .status-bar {
	display: none !important;
}

/* Light theme overrides */
body.theme-light .bg-grid {
	opacity: .25;
}
body.theme-light .bg-slate-950 {
	background-color: var(--color-bg-base);
}
body.theme-light .bg-slate-950\/40 {
	background-color: rgba(245, 246, 250, 0.8);
}
body.theme-light .text-slate-100 { color: var(--color-text-primary); }
body.theme-light .text-slate-200 { color: var(--color-text-primary); }
body.theme-light .text-slate-300 { color: var(--color-text-secondary); }
body.theme-light .text-slate-400 { color: var(--color-text-muted); }
body.theme-light .text-slate-500 { color: var(--color-text-muted-strong); }
body.theme-light .border-white\/10 { border-color: var(--glass-border-color); }
body.theme-light .bg-white\/5 { background-color: var(--color-surface-muted); }
body.theme-light .bg-white\/10 { background-color: var(--color-surface-hover); }
body.theme-light .hover\:bg-white\/10:hover { background-color: var(--color-surface-hover); }
body.theme-light .theme-overlay {
	background: radial-gradient(circle at 15% 0%, var(--color-theme-overlay-radial), transparent 55%),
				linear-gradient(var(--color-theme-overlay-start), var(--color-theme-overlay-end));
}

/* Card hover effect for non-touch devices only - light mode only */
body.theme-light.hover-device #grid .glass:hover {
	background-color: rgba(255, 255, 255, 0.15) !important;
	box-shadow: var(--glass-box-shadow), var(--glass-inset-shadow);
	transition: background-color .15s ease;
}
body.theme-light.hover-device.slim #grid .glass:hover {
	background: var(--color-slim-glass-hover) !important;
}

/* Resume spinner - shown when returning to app on touch devices */
.resume-spinner {
	position: fixed;
	top: var(--header-height, 60px);
	left: 0;
	right: 0;
	bottom: 0;
	display: flex;
	align-items: center;
	justify-content: center;
	z-index: 35;
	opacity: 0;
	visibility: hidden;
	pointer-events: none;
	transition: opacity .2s ease, visibility .2s ease;
	background: transparent;
	backdrop-filter: blur(12px);
	-webkit-backdrop-filter: blur(12px);
}
.resume-spinner.active {
	opacity: 1;
	visibility: visible;
	pointer-events: auto;
}
.resume-spinner-ring {
	width: 48px;
	height: 48px;
	border: 3px solid rgba(255, 255, 255, 0.15);
	border-top-color: rgb(106, 116, 211);
	border-radius: 50%;
	animation: resume-spin 0.8s linear infinite;
}
@keyframes resume-spin {
	to { transform: rotate(360deg); }
}
body.theme-light .resume-spinner-ring {
	border-color: rgba(0, 0, 0, 0.1);
	border-top-color: rgb(106, 116, 211);
}
/* Hide status text when spinner is active */
body.resume-spinner-active #status {
	display: none !important;
}

/* Navigation chevron badge - green pill */
#grid .navHint {
	padding: 0;
	background: rgb(118, 214, 152);
	border-radius: 12px;
	width: 24px;
	height: 24px;
	align-items: center;
	justify-content: center;
	isolation: isolate;
}
body.theme-light #grid .navHint {
	background: rgb(78, 183, 128);
}
#grid .navHint:not(.hidden) {
	display: flex;
}
#grid .navHint.hidden {
	display: none !important;
}
#grid .navHint svg {
	width: 10px;
	height: 10px;
	mix-blend-mode: destination-out;
}
#grid .navHint svg path {
	fill: rgba(0, 0, 0, 1) !important;
}
body.theme-light #grid .navHint svg {
	mix-blend-mode: normal;
}
body.theme-light #grid .navHint svg path {
	fill: rgba(255, 255, 255, 1) !important;
}

/* Glow Config Modal */
.glow-config-modal {
	position: fixed;
	inset: 0;
	z-index: 100;
	display: flex;
	align-items: center;
	justify-content: center;
	background: transparent;
	backdrop-filter: blur(12px);
	-webkit-backdrop-filter: blur(12px);
}
.glow-config-modal.hidden {
	display: none;
}
.glow-config-frame {
	width: 90vw;
	max-width: 420px;
	max-height: 80vh;
	overflow-y: auto;
	padding: 12px;
	background: rgb(19, 20, 33);
	border: var(--glass-border-width) solid var(--header-border);
	border-radius: var(--glass-border-radius);
	box-shadow: var(--glass-box-shadow), var(--glass-inset-shadow);
}
body.theme-light .glow-config-frame {
	background: rgb(245, 246, 250);
}
.glow-config-body {
	display: flex;
	flex-direction: column;
	gap: 12px;
}
.glow-config-rules {
	display: flex;
	flex-direction: column;
	gap: 8px;
}
.glow-rule-row {
	display: flex;
	align-items: center;
	gap: 6px;
}
.glow-rule-row input {
	padding: 11px 12px;
	font-size: .75rem;
	line-height: 1;
	color: var(--color-text-primary);
	background: rgba(30, 33, 54, 0.7);
	backdrop-filter: blur(6px);
	-webkit-backdrop-filter: blur(6px);
	border: 1px solid var(--glass-border-color);
	border-radius: 10px;
	outline: none;
	box-shadow: inset 0 3px 10px rgba(0, 0, 0, 0.5), inset 0 1px 3px rgba(0, 0, 0, 0.4);
}
.glow-rule-row input::placeholder {
	color: rgba(255, 255, 255, 0.35);
}
body.theme-light .glow-rule-row input {
	background: rgba(255, 255, 255, 0.7);
	box-shadow: inset 0 3px 10px rgba(0, 0, 0, 0.2), inset 0 1px 3px rgba(0, 0, 0, 0.15);
}
body.theme-light .glow-rule-row input::placeholder {
	color: rgba(150, 155, 170, 0.8);
}
.glow-rule-row input:focus {
	border-color: rgba(118, 214, 152, 0.5);
	box-shadow: inset 0 3px 10px rgba(0, 0, 0, 0.5), inset 0 1px 3px rgba(0, 0, 0, 0.4), 0 0 10px rgba(118, 214, 152, 0.4);
}
body.theme-light .glow-rule-row input:focus {
	border-color: rgba(78, 183, 128, 0.45);
	box-shadow: inset 0 3px 10px rgba(0, 0, 0, 0.2), inset 0 1px 3px rgba(0, 0, 0, 0.15), 0 0 10px rgba(78, 183, 128, 0.35);
}
.glow-rule-value {
	flex: 1;
	min-width: 60px;
}
/* Custom dropdown styling */
.glow-select-wrap {
	flex-shrink: 0;
}
.glow-operator-select {
	width: 90px;
}
.glow-color-select {
	width: 80px;
}
.glow-fake-select {
	width: 100%;
	padding: 11px 12px;
	font-size: .75rem;
	line-height: 1;
	color: var(--color-text-primary);
	background: var(--color-control-off-bg);
	border: var(--glass-border-width) solid var(--color-control-off-border);
	border-radius: 10px;
	cursor: pointer;
	text-align: center;
	transition: background-color .2s, border-color .2s, box-shadow .2s;
}
@media (hover: hover) and (pointer: fine) {
	.glow-fake-select:hover {
		background-color: var(--color-control-off-hover);
		border-color: var(--color-control-off-border-hover);
		box-shadow: 0 0 10px var(--color-control-off-shadow-hover);
	}
}
.glow-select-menu {
	display: none;
	background: var(--color-select-menu-bg);
	backdrop-filter: var(--glass-blur);
	-webkit-backdrop-filter: var(--glass-blur);
	border: var(--glass-border-width) solid var(--color-select-menu-border);
	border-radius: 10px;
	padding: .25rem;
	z-index: 200;
}
.glow-select-option {
	display: block;
	width: 100%;
	background: var(--color-select-option-bg-card);
	border: 1px solid var(--color-select-option-border-card);
	color: var(--color-select-option-text-card);
	font-size: .75rem;
	line-height: 1;
	padding: 11px 12px;
	border-radius: 8px;
	text-align: center;
	cursor: pointer;
	transition: background-color .2s, border-color .2s, box-shadow .2s;
}
.glow-select-option + .glow-select-option {
	margin-top: .25rem;
}
@media (hover: hover) and (pointer: fine) {
	.glow-select-option:hover {
		background: var(--color-select-option-hover-bg);
		border-color: var(--color-select-option-hover-border);
		box-shadow: 0 0 10px var(--color-select-option-hover-shadow);
	}
}
.glow-select-option.active {
	background: var(--color-select-option-active-bg);
	border-color: var(--color-select-option-active-border);
	color: var(--color-select-option-active-text);
	box-shadow: 0 0 10px var(--color-select-option-active-shadow);
}
/* Color dropdown glow effects */
.glow-color-select .glow-fake-select[data-color="green"] {
	background: rgba(118, 214, 152, 0.15);
	border-color: rgba(118, 214, 152, 0.5);
	box-shadow: 0 0 8px rgba(118, 214, 152, 0.4);
}
.glow-color-select .glow-fake-select[data-color="orange"] {
	background: rgba(255, 130, 42, 0.15);
	border-color: rgba(255, 130, 42, 0.5);
	box-shadow: 0 0 8px rgba(255, 130, 42, 0.4);
}
.glow-color-select .glow-fake-select[data-color="red"] {
	background: rgba(234, 0, 52, 0.15);
	border-color: rgba(234, 0, 52, 0.5);
	box-shadow: 0 0 8px rgba(234, 0, 52, 0.4);
}
.glow-select-option[data-color="green"] {
	background: rgba(118, 214, 152, 0.15);
	border-color: rgba(118, 214, 152, 0.5);
}
.glow-select-option[data-color="orange"] {
	background: rgba(255, 130, 42, 0.15);
	border-color: rgba(255, 130, 42, 0.5);
}
.glow-select-option[data-color="red"] {
	background: rgba(234, 0, 52, 0.15);
	border-color: rgba(234, 0, 52, 0.5);
}
.glow-rule-delete {
	width: 1rem;
	height: 1rem;
	padding: 0;
	border: 0;
	background: transparent;
	cursor: pointer;
	flex-shrink: 0;
	display: inline-flex;
	align-items: center;
	justify-content: center;
	opacity: 0.5;
	transition: opacity 0.2s;
}
.glow-rule-delete img {
	width: 100%;
	height: 100%;
	display: block;
	object-fit: contain;
}
.glow-rule-delete:hover {
	opacity: 1;
}
.glow-config-add {
	padding: 11px 12px;
	font-size: .75rem;
	line-height: 1;
	border-radius: 10px;
	cursor: pointer;
	width: 100%;
	background-color: var(--color-control-off-bg);
	color: var(--color-control-off-text);
	border: var(--glass-border-width) solid var(--color-control-off-border);
	box-shadow: 0 0 8px var(--color-control-off-shadow);
	transition: background-color .4s ease, border-color .4s ease, box-shadow .4s ease;
}
@media (hover: hover) and (pointer: fine) {
	.glow-config-add:hover {
		background-color: var(--color-control-off-hover);
		border-color: var(--color-control-off-border-hover);
		box-shadow: 0 0 10px var(--color-control-off-shadow-hover);
	}
}
.glow-config-footer {
	display: flex;
	justify-content: flex-end;
	gap: 8px;
	width: 50%;
	margin-left: auto;
}
.glow-config-footer button {
	flex: 1;
	padding: 11px 12px;
	font-size: .75rem;
	line-height: 1;
	border-radius: 10px;
	cursor: pointer;
	background-color: var(--color-control-off-bg);
	color: var(--color-control-off-text);
	border: var(--glass-border-width) solid var(--color-control-off-border);
	box-shadow: 0 0 8px var(--color-control-off-shadow);
	transition: background-color .4s ease, border-color .4s ease, box-shadow .4s ease;
}
@media (hover: hover) and (pointer: fine) {
	.glow-config-footer button:hover {
		background-color: var(--color-control-off-hover);
		border-color: var(--color-control-off-border-hover);
		box-shadow: 0 0 10px var(--color-control-off-shadow-hover);
	}
}
body.glow-config-open {
	overflow: hidden;
}

/* Item Config Section Headers */
.item-config-section-header {
	font-size: .75rem;
	text-transform: uppercase;
	letter-spacing: .1em;
	color: var(--color-text-muted);
}

/* Glow Rules Section */
.glow-rules-section {
	display: flex;
	flex-direction: column;
	gap: 12px;
}

/* Visibility Radio Buttons */
.item-config-visibility {
	display: flex;
	gap: 8px;
}
.item-config-radio {
	flex: 1;
	display: flex;
	align-items: center;
	justify-content: center;
	padding: 11px 12px;
	font-size: .75rem;
	line-height: 1;
	cursor: pointer;
	background: var(--color-control-off-bg);
	border: var(--glass-border-width) solid var(--color-control-off-border);
	border-radius: 10px;
	transition: background-color .2s, border-color .2s, box-shadow .2s;
}
.item-config-radio input {
	display: none;
}
.item-config-radio:has(input:checked) {
	background: var(--color-switch-active-bg);
	border-color: var(--color-switch-active-border);
	box-shadow: 0 0 8px var(--color-switch-active-shadow);
}
@media (hover: hover) and (pointer: fine) {
	.item-config-radio:hover {
		background-color: var(--color-control-off-hover);
		border-color: var(--color-control-off-border-hover);
		box-shadow: 0 0 10px var(--color-control-off-shadow-hover);
	}
}
